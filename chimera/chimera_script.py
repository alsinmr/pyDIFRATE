try:
	from chimerax.core.commands import run as rc

	import os
	import numpy as np

	di=np.array([2130,2134,2136,2138,2139,2140,2141,2142,2145,2146,\
		2147,2148,2149,2150,2151,2153,2161,2163,2165,2167,\
		2168,2169,2170,2171,2172,2173,2175,2177,2179,2180,\
		2181,2182,2183,2186,2187,2188,2189,2190,2191,2192,\
		2194,2196,2198,2199,2200,2201,2202,2203,2204,2205,\
		2206,2207,2208,2210,2213,2215,2217,2237,2239,2241,\
		2251,2253,2255,2262,2264,2266,2268,2269,2270,2271,\
		2272,2273,2274,2276,2294,2296,2298,2306,2308,2310,\
		2312,2314,2315,2316,2317,2318,2321,2322,2323,2324,\
		2325,2326,2327,2329,2349,2351,2353,2363,2365,2367,\
		2378,2380,2382,2393,2395,2397,2417,2419,2421,2423,\
		2424,2425,2426,2427,2428,2429,2431,2451,2453,2455,\
		2457,2459,2460,2461,2462,2463,2464,2465,2466,2467,\
		2468,2469,2471,2484,2486,2488,2490,2493,2495,2496,\
		2497,2498,2499,2500,2501,2502,2503,2504,2505,2507,\
		2510,2512,2514,2524,2526,2528,2530,2532,2533,2534,\
		2535,2536,2537,2538,2539,2540,2541,2542,2544,2546,\
		2548,2549,2550,2551,2552,2553,2554,2555,2556,2557,\
		2558,2560,2570,2572,2574,2576,2577,2578,2579,2580,\
		2581,2582,2584,2586,2587,2588,2589,2590,2591,2592,\
		2594,2596,2597,2598,2599,2600,2601,2602,2604,2606,\
		2609,2611,2612,2613,2614,2615,2616,2617,2618,2619,\
		2620,2621,2623,2636,2638,2640,2643,2645,2647,2650,\
		2652,2654,2656,2658,2659,2660,2661,2662,2665,2666,\
		2667,2668,2669,2670,2671,2673,2693,2695,2697,2699,\
		2701,2702,2703,2704,2705,2708,2709,2710,2711,2712,\
		2713,2714,2716,2723,2725,2727,2735,2737,2739,2752,\
		2754,2756,2766,2768,2770,2780,2782,2784,2794,2796,\
		2798,2805,2807,2809,2811,2813,2814,2815,2816,2817,\
		2818,2819,2820,2821,2822,2823,2825,2836,2838,2840,\
		2850,2852,2854,2856,2858,2859,2860,2861,2862,2863,\
		2864,2865,2866,2867,2868,2870,2872,2874,2875,2876,\
		2877,2878,2879,2880,2881,2882,2883,2884,2886,2889,\
		2891,2893,2911,2913,2915,2918,2920,2922,2933,2935,\
		2937,2944,2946,2948,2968,2970,2972,2974,2976,2977,\
		2978,2979,2980,2981,2982,2983,2984,2985,2986,2988,\
		2990,2993,2995,2996,2997,2998,2999,3000,3001,3002,\
		3003,3004,3005,3007,3009,3011,3012,3013,3014,3015,\
		3018,3019,3020,3021,3022,3023,3024,3026,3029,3031,\
		3033,3043,3045,3047,3058,3060,3062,3079,3081,3083,\
		3086,3088,3090,3093,3095,3097,3115,3117,3119,3122,\
		3124,3126,3142,3144,3146,3166,3168,3170,3178,3180,\
		3182,3192]).astype("uint32")

	ids=np.array([2138,2139,2140,2141,2145,2146,2147,2148,2167,2168,\
		2169,2170,2179,2180,2181,2182,2186,2187,2188,2189,\
		2198,2199,2200,2201,2202,2203,2204,2205,2268,2269,\
		2270,2271,2314,2315,2316,2317,2321,2322,2323,2324,\
		2423,2424,2425,2426,2459,2460,2461,2462,2463,2464,\
		2465,2466,2495,2496,2497,2498,2499,2500,2501,2502,\
		2532,2533,2534,2535,2536,2537,2538,2539,2548,2549,\
		2550,2551,2552,2553,2554,2555,2576,2577,2578,2579,\
		2586,2587,2588,2589,2596,2597,2598,2599,2611,2612,\
		2613,2614,2615,2616,2617,2618,2658,2659,2660,2661,\
		2665,2666,2667,2668,2701,2702,2703,2704,2708,2709,\
		2710,2711,2813,2814,2815,2816,2817,2818,2819,2820,\
		2858,2859,2860,2861,2862,2863,2864,2865,2874,2875,\
		2876,2877,2878,2879,2880,2881,2976,2977,2978,2979,\
		2980,2981,2982,2983,2995,2996,2997,2998,2999,3000,\
		3001,3002,3011,3012,3013,3014,3018,3019,3020,3021]).astype("uint32")

	r=np.array([1.285794,1.285794,1.285794,1.285794,1.343548,1.343548,1.343548,1.343548,4.886171,4.886171,\
		4.886171,4.886171,1.150101,1.150101,1.150101,1.150101,1.969277,1.969277,1.969277,1.969277,\
		1.203978,1.203978,1.203978,1.203978,1.899076,1.899076,1.899076,1.899076,4.893880,4.893880,\
		4.893880,4.893880,4.891173,4.891173,4.891173,4.891173,3.528279,3.528279,3.528279,3.528279,\
		4.887327,4.887327,4.887327,4.887327,4.900000,4.900000,4.900000,4.900000,4.889086,4.889086,\
		4.889086,4.889086,3.373394,3.373394,3.373394,3.373394,3.177372,3.177372,3.177372,3.177372,\
		1.892905,1.892905,1.892905,1.892905,1.430806,1.430806,1.430806,1.430806,3.631602,3.631602,\
		3.631602,3.631602,3.778772,3.778772,3.778772,3.778772,4.892652,4.892652,4.892652,4.892652,\
		4.885473,4.885473,4.885473,4.885473,4.900000,4.900000,4.900000,4.900000,2.152553,2.152553,\
		2.152553,2.152553,2.198358,2.198358,2.198358,2.198358,2.156023,2.156023,2.156023,2.156023,\
		1.570206,1.570206,1.570206,1.570206,1.393179,1.393179,1.393179,1.393179,0.900667,0.900667,\
		0.900667,0.900667,2.244640,2.244640,2.244640,2.244640,2.436315,2.436315,2.436315,2.436315,\
		2.715142,2.715142,2.715142,2.715142,2.732545,2.732545,2.732545,2.732545,1.434904,1.434904,\
		1.434904,1.434904,1.080296,1.080296,1.080296,1.080296,4.763559,4.763559,4.763559,4.763559,\
		4.769024,4.769024,4.769024,4.769024,4.636578,4.636578,4.636578,4.636578,4.651235,4.651235,\
		4.651235,4.651235,4.900000,4.900000,4.900000,4.900000,3.176384,3.176384,3.176384,3.176384]).astype("float")

	clr=np.array([[201,174,138,255],
		[201,174,138,255],
		[201,174,138,255],
		[201,174,138,255],
		[200,174,138,255],
		[200,174,138,255],
		[200,174,138,255],
		[200,174,138,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[204,176,139,255],
		[204,176,139,255],
		[204,176,139,255],
		[204,176,139,255],
		[187,165,136,255],
		[187,165,136,255],
		[187,165,136,255],
		[187,165,136,255],
		[203,175,139,254],
		[203,175,139,254],
		[203,175,139,254],
		[203,175,139,254],
		[189,166,136,255],
		[189,166,136,255],
		[189,166,136,255],
		[189,166,136,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[155,145,131,255],
		[155,145,131,255],
		[155,145,131,255],
		[155,145,131,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[158,147,131,255],
		[158,147,131,255],
		[158,147,131,255],
		[158,147,131,255],
		[162,149,132,255],
		[162,149,132,255],
		[162,149,132,255],
		[162,149,132,255],
		[189,166,136,255],
		[189,166,136,255],
		[189,166,136,255],
		[189,166,136,255],
		[198,172,138,255],
		[198,172,138,255],
		[198,172,138,255],
		[198,172,138,255],
		[153,143,131,255],
		[153,143,131,255],
		[153,143,131,255],
		[153,143,131,255],
		[150,141,130,255],
		[150,141,130,255],
		[150,141,130,255],
		[150,141,130,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[184,163,135,255],
		[184,163,135,255],
		[184,163,135,255],
		[184,163,135,255],
		[183,162,135,255],
		[183,162,135,255],
		[183,162,135,255],
		[183,162,135,255],
		[183,163,135,255],
		[183,163,135,255],
		[183,163,135,255],
		[183,163,135,255],
		[196,171,137,255],
		[196,171,137,255],
		[196,171,137,255],
		[196,171,137,255],
		[199,173,138,255],
		[199,173,138,255],
		[199,173,138,255],
		[199,173,138,255],
		[209,179,139,254],
		[209,179,139,254],
		[209,179,139,254],
		[209,179,139,254],
		[182,162,135,254],
		[182,162,135,254],
		[182,162,135,254],
		[182,162,135,254],
		[178,159,135,255],
		[178,159,135,255],
		[178,159,135,255],
		[178,159,135,255],
		[172,155,134,255],
		[172,155,134,255],
		[172,155,134,255],
		[172,155,134,255],
		[171,155,134,255],
		[171,155,134,255],
		[171,155,134,255],
		[171,155,134,255],
		[198,172,138,255],
		[198,172,138,255],
		[198,172,138,255],
		[198,172,138,255],
		[206,177,139,255],
		[206,177,139,255],
		[206,177,139,255],
		[206,177,139,255],
		[129,128,127,255],
		[129,128,127,255],
		[129,128,127,255],
		[129,128,127,255],
		[129,128,127,255],
		[129,128,127,255],
		[129,128,127,255],
		[129,128,127,255],
		[132,130,127,255],
		[132,130,127,255],
		[132,130,127,255],
		[132,130,127,255],
		[132,130,127,255],
		[132,130,127,255],
		[132,130,127,255],
		[132,130,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[127,127,127,255],
		[162,149,132,255],
		[162,149,132,255],
		[162,149,132,255],
		[162,149,132,255]]).astype("uint8")
	mdl=session.open_command.open_data("/Users/albertsmith/Documents/GitHub/pyDIFRATE/Struct/HETs_5chain_MET_4pw_cb10_2micros.xtc_200000.pdb")[0]
	session.models.add(mdl)
	rc(session,"~display")
	rc(session,"~ribbon")
	from chimerax.atomic.pbgroup import PseudobondGroup
	pbg_list=list()
	for mdl in session.models:
		if isinstance(mdl,PseudobondGroup):pbg_list.append(mdl)
	for mdl in pbg_list:mdl.delete()
	if len(session.models)>1:
		atoms=session.models[1].atoms
		rc(session,"display #1.1")
	else:
		atoms=session.models[0].atoms
		rc(session,"display #1")
	hide=getattr(atoms,"hides")
	hide[:]=1
	hide[di]=0
	setattr(atoms,"hides",hide)
	rc(session,"style ball")
	rc(session,"size stickRadius 0.2")
	rc(session,"color all tan")
	r0=getattr(atoms,"radii").copy()
	clr0=getattr(atoms,"colors").copy()
	r0[:]=.8
	r0[ids]=r
	clr0[ids]=clr
	setattr(atoms,"radii",r0)
	setattr(atoms,"colors",clr0)
except:
	pass
finally:
	os.remove("/Users/albertsmith/Documents/GitHub/pyDIFRATE/chimera/chimera_script451030.py")
