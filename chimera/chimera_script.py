try:
	from chimerax.core.commands import run as rc

	import os
	import numpy as np

	di=np.array([2130,2134,2149,2151,2153,2161,2163,2165,2171,2173,\
		2175,2190,2192,2194,2206,2208,2210,2213,2215,2217,\
		2237,2239,2241,2251,2253,2255,2262,2264,2266,2268,\
		2269,2270,2271,2272,2273,2274,2276,2294,2296,2298,\
		2306,2308,2310,2312,2314,2318,2321,2322,2323,2324,\
		2325,2326,2327,2329,2349,2351,2353,2363,2365,2367,\
		2378,2380,2382,2393,2395,2397,2417,2419,2421,2423,\
		2424,2425,2426,2427,2428,2429,2431,2451,2453,2455,\
		2457,2459,2463,2464,2465,2466,2467,2468,2469,2471,\
		2484,2486,2488,2490,2493,2495,2499,2500,2501,2502,\
		2503,2504,2505,2507,2510,2512,2514,2524,2526,2528,\
		2530,2532,2536,2537,2538,2539,2540,2541,2542,2544,\
		2556,2558,2560,2570,2572,2574,2576,2577,2578,2579,\
		2580,2581,2582,2584,2586,2587,2588,2589,2590,2591,\
		2592,2594,2600,2602,2604,2619,2621,2623,2636,2638,\
		2640,2643,2645,2647,2650,2652,2654,2669,2671,2673,\
		2693,2695,2697,2712,2714,2716,2723,2725,2727,2735,\
		2737,2739,2752,2754,2756,2766,2768,2770,2780,2782,\
		2784,2794,2796,2798,2805,2807,2809,2821,2823,2825,\
		2836,2838,2840,2850,2852,2854,2866,2868,2870,2872,\
		2874,2878,2879,2880,2881,2882,2883,2884,2886,2889,\
		2891,2893,2911,2913,2915,2918,2920,2922,2933,2935,\
		2937,2944,2946,2948,2968,2970,2972,2974,2976,2980,\
		2981,2982,2983,2984,2985,2986,2988,2990,2993,2995,\
		2999,3000,3001,3002,3003,3004,3005,3007,3009,3011,\
		3015,3018,3019,3020,3021,3022,3023,3024,3026,3029,\
		3031,3033,3043,3045,3047,3058,3060,3062,3079,3081,\
		3083,3086,3088,3090,3093,3095,3097,3115,3117,3119,\
		3122,3124,3126,3142,3144,3146,3166,3168,3170,3178,\
		3180,3182,3192]).astype("uint32")

	ids=np.array([2268,2269,2270,2271,2321,2322,2323,2324,2423,2424,\
		2425,2426,2463,2464,2465,2466,2499,2500,2501,2502,\
		2536,2537,2538,2539,2576,2577,2578,2579,2586,2587,\
		2588,2589,2878,2879,2880,2881,2980,2981,2982,2983,\
		2999,3000,3001,3002,3018,3019,3020,3021]).astype("uint32")

	r=np.array([4.769374,4.769374,4.769374,4.769374,6.359606,6.359606,6.359606,6.359606,4.981326,4.981326,\
		4.981326,4.981326,5.637126,5.637126,5.637126,5.637126,2.684395,2.684395,2.684395,2.684395,\
		3.482369,3.482369,3.482369,3.482369,3.620039,3.620039,3.620039,3.620039,3.934649,3.934649,\
		3.934649,3.934649,3.011687,3.011687,3.011687,3.011687,3.562770,3.562770,3.562770,3.562770,\
		2.187233,2.187233,2.187233,2.187233,3.593054,3.593054,3.593054,3.593054]).astype("float")

	clr=np.array([[150,105,187,255],
		[150,105,187,255],
		[150,105,187,255],
		[150,105,187,255],
		[148,103,189,255],
		[148,103,189,255],
		[148,103,189,255],
		[148,103,189,255],
		[148,103,189,255],
		[148,103,189,255],
		[148,103,189,255],
		[148,103,189,255],
		[148,103,189,255],
		[148,103,189,255],
		[148,103,189,255],
		[148,103,189,255],
		[182,145,161,255],
		[182,145,161,255],
		[182,145,161,255],
		[182,145,161,255],
		[169,130,171,255],
		[169,130,171,255],
		[169,130,171,255],
		[169,130,171,255],
		[167,127,173,255],
		[167,127,173,255],
		[167,127,173,255],
		[167,127,173,255],
		[162,121,177,255],
		[162,121,177,255],
		[162,121,177,255],
		[162,121,177,255],
		[177,139,165,255],
		[177,139,165,255],
		[177,139,165,255],
		[177,139,165,255],
		[168,128,172,255],
		[168,128,172,255],
		[168,128,172,255],
		[168,128,172,255],
		[190,155,155,255],
		[190,155,155,255],
		[190,155,155,255],
		[190,155,155,255],
		[168,128,172,255],
		[168,128,172,255],
		[168,128,172,255],
		[168,128,172,255]]).astype("uint8")
	mdl=session.open_command.open_data("/Users/albertsmith/Documents/GitHub/pyDIFRATE/Struct/HETs_5chain_MET_4pw_cb10_2micros.xtc_200000.pdb")[0]
	session.models.add(mdl)
	rc(session,"~display")
	rc(session,"~ribbon")
	from chimerax.atomic.pbgroup import PseudobondGroup
	pbg_list=list()
	for mdl in session.models:
		if isinstance(mdl,PseudobondGroup):pbg_list.append(mdl)
	for mdl in pbg_list:mdl.delete()
	if len(session.models)>1:
		atoms=session.models[1].atoms
		rc(session,"display #1.1")
	else:
		atoms=session.models[0].atoms
		rc(session,"display #1")
	hide=getattr(atoms,"hides")
	hide[:]=1
	hide[di]=0
	setattr(atoms,"hides",hide)
	rc(session,"style ball")
	rc(session,"size stickRadius 0.2")
	rc(session,"color all tan")
	r0=getattr(atoms,"radii").copy()
	clr0=getattr(atoms,"colors").copy()
	r0[:]=.8
	r0[ids]=r
	clr0[ids]=clr
	setattr(atoms,"radii",r0)
	setattr(atoms,"colors",clr0)
except:
	pass
finally:
	os.remove("/Users/albertsmith/Documents/GitHub/pyDIFRATE/chimera/chimera_script742005.py")
